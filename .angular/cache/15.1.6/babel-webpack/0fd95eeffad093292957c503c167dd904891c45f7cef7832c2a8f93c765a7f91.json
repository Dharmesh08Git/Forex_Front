{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"src/app/services/admin.service\";\nimport * as i3 from \"src/app/services/customer.service\";\nimport * as i4 from \"@angular/forms\";\nexport class CustomerAddBankAccountPageComponent {\n  constructor(auth, admin, customer) {\n    this.auth = auth;\n    this.admin = admin;\n    this.customer = customer;\n    this.selectedUser = {\n      name: ''\n    };\n    this.bankDetails = {\n      accountHolderName: '',\n      accountNumber: 0,\n      bankName: '',\n      contactnumber: '',\n      ifscCode: ''\n    };\n    this.bankAvail = false;\n  }\n  ngOnInit() {\n    this.selectedUser = {\n      ...this.auth.getUserDetails()\n    };\n    this.customer.getMyBank().subscribe(res => {\n      if (res.data) {\n        this.bankAvail = true;\n        this.bankDetails = res?.data;\n      }\n    });\n  }\n  onSubmit(ngForm) {\n    let credentials = {};\n    if (this.bankAvail) credentials = {\n      ...this.bankDetails\n    };else credentials = ngForm.form.value;\n    credentials.accountHolderName = this.selectedUser?.name;\n    credentials.userId = this.selectedUser.usersId;\n    if (this.bankAvail) this.admin.updateBankAccount(credentials);else this.admin.addBankAccount(credentials);\n    ngForm.resetForm();\n    setTimeout(() => {\n      this.ngOnInit();\n    }, 2000);\n  }\n  onReset() {\n    this.ngOnInit();\n  }\n}\nCustomerAddBankAccountPageComponent.ɵfac = function CustomerAddBankAccountPageComponent_Factory(t) {\n  return new (t || CustomerAddBankAccountPageComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AdminService), i0.ɵɵdirectiveInject(i3.CustomerService));\n};\nCustomerAddBankAccountPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CustomerAddBankAccountPageComponent,\n  selectors: [[\"app-customer-add-bank-account-page\"]],\n  decls: 40,\n  vars: 7,\n  consts: [[1, \"login_page\"], [1, \"cantainer\"], [1, \"row\"], [1, \"col-md-8\", \"offset-md-2\"], [1, \"card\"], [3, \"noValidate\", \"ngSubmit\"], [\"registerForm\", \"ngForm\"], [1, \"col-12\", \"mt-3\"], [1, \"form-group\"], [\"type\", \"text\", \"name\", \"accountHolderName\", \"required\", \"\", \"readonly\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-6\", \"mt-3\"], [\"type\", \"text\", \"step\", \"0.01\", \"name\", \"bankName\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"accountNumber\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"contactNumber\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"ifscCode\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-primary\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"mt-3\", \"ms-2\", 3, \"click\"]],\n  template: function CustomerAddBankAccountPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\");\n      i0.ɵɵtext(6, \"Add Bank Account\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"hr\");\n      i0.ɵɵelementStart(8, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function CustomerAddBankAccountPageComponent_Template_form_ngSubmit_8_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(9);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"div\", 7)(12, \"div\", 8)(13, \"label\");\n      i0.ɵɵtext(14, \"Account Holder Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerAddBankAccountPageComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.selectedUser.name = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"div\", 8)(18, \"label\");\n      i0.ɵɵtext(19, \"Bank Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerAddBankAccountPageComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.bankDetails.bankName = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 10)(22, \"div\", 8)(23, \"label\");\n      i0.ɵɵtext(24, \"Account Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerAddBankAccountPageComponent_Template_input_ngModelChange_25_listener($event) {\n        return ctx.bankDetails.accountNumber = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(26, \"div\", 10)(27, \"div\", 8)(28, \"label\");\n      i0.ɵɵtext(29, \"Contact number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerAddBankAccountPageComponent_Template_input_ngModelChange_30_listener($event) {\n        return ctx.bankDetails.contactNumber = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"div\", 10)(32, \"div\", 8)(33, \"label\");\n      i0.ɵɵtext(34, \"IFSC Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function CustomerAddBankAccountPageComponent_Template_input_ngModelChange_35_listener($event) {\n        return ctx.bankDetails.ifscCode = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(36, \"button\", 15);\n      i0.ɵɵtext(37);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function CustomerAddBankAccountPageComponent_Template_button_click_38_listener() {\n        return ctx.onReset();\n      });\n      i0.ɵɵtext(39, \"Cancel\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"noValidate\", false);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedUser.name);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bankDetails.bankName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bankDetails.accountNumber);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bankDetails.contactNumber);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.bankDetails.ifscCode);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.bankAvail ? \"Update\" : \"Submit\", \" \");\n    }\n  },\n  dependencies: [i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["CustomerAddBankAccountPageComponent","constructor","auth","admin","customer","name","accountHolderName","accountNumber","bankName","contactnumber","ifscCode","ngOnInit","selectedUser","getUserDetails","getMyBank","subscribe","res","data","bankAvail","bankDetails","onSubmit","ngForm","credentials","form","value","userId","usersId","updateBankAccount","addBankAccount","resetForm","setTimeout","onReset","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\DTHORGAV\\Downloads\\OneDrive - Capgemini\\Desktop\\OceanCaseStudy\\forex_front\\src\\app\\pages\\Customer\\customer-add-bank-account-page\\customer-add-bank-account-page.component.ts","C:\\Users\\DTHORGAV\\Downloads\\OneDrive - Capgemini\\Desktop\\OceanCaseStudy\\forex_front\\src\\app\\pages\\Customer\\customer-add-bank-account-page\\customer-add-bank-account-page.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { AdminService } from 'src/app/services/admin.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { CustomerService } from 'src/app/services/customer.service';\n\n@Component({\n  selector: 'app-customer-add-bank-account-page',\n  templateUrl: './customer-add-bank-account-page.component.html',\n  styleUrls: ['./customer-add-bank-account-page.component.scss']\n})\nexport class CustomerAddBankAccountPageComponent {\n  selectedUser: any = {\n    name: ''\n  }\n  bankDetails: any = {\n    accountHolderName: '',\n    accountNumber: 0,\n    bankName: '',\n    contactnumber: '',\n    ifscCode: '',\n  };\n  bankAvail = false;\n\n  constructor(\n    private auth: AuthService,\n    private admin: AdminService,\n    private customer: CustomerService\n  ) { }\n\n\n\n\n  ngOnInit() {\n    this.selectedUser = { ...this.auth.getUserDetails() };\n    this.customer.getMyBank().subscribe((res: any) => {\n      if (res.data) {\n        this.bankAvail = true;\n        this.bankDetails = res?.data;\n      }\n    });\n  }\n\n  onSubmit(ngForm: NgForm) {\n    let credentials: any = {}\n\n    if (this.bankAvail) credentials = { ...this.bankDetails };\n    else credentials = ngForm.form.value;\n    credentials.accountHolderName = this.selectedUser?.name;\n    credentials.userId = this.selectedUser.usersId;\n    if (this.bankAvail) this.admin.updateBankAccount(credentials);\n    else this.admin.addBankAccount(credentials);\n    ngForm.resetForm();\n    setTimeout(() => {\n      this.ngOnInit();\n    }, 2000);\n  }\n\n  onReset() {\n    this.ngOnInit();\n  }\n}\n","<div class=\"login_page\">\n    <div class=\"cantainer\">\n        <div class=\"row\">\n            <div class=\"col-md-8 offset-md-2\">\n                <div class=\"card\">\n                    <h3>Add Bank Account</h3>\n                    <hr />\n\n                    <form #registerForm=\"ngForm\" (ngSubmit)=\"onSubmit(registerForm)\" [noValidate]=\"false\">\n\n                        <div class=\"row\">\n\n                            <div class=\"col-12 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>Account Holder Name</label>\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"selectedUser.name\"\n                                        name=\"accountHolderName\" required readonly />\n                                </div>\n                            </div>\n                            <div class=\"col-6 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>Bank Name</label>\n                                    <input type=\"text\" step=\"0.01\" class=\"form-control\"\n                                        [(ngModel)]=\"bankDetails.bankName\" name=\"bankName\" required />\n                                </div>\n                            </div>\n                            <div class=\"col-6 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>Account Number</label>\n                                    <input type=\"number\" class=\"form-control\" [(ngModel)]=\"bankDetails.accountNumber\"\n                                        name=\"accountNumber\" required />\n                                </div>\n                            </div>\n                            <div class=\"col-6 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>Contact number</label>\n                                    <input type=\"number\" class=\"form-control\" [(ngModel)]=\"bankDetails.contactNumber\"\n                                        name=\"contactNumber\" required />\n                                </div>\n                            </div>\n                            <div class=\"col-6 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>IFSC Code</label>\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"bankDetails.ifscCode\"\n                                        name=\"ifscCode\" required />\n                                </div>\n                            </div>\n\n                        </div>\n\n                        <button type=\"submit\" class=\"btn btn-outline-primary mt-3\">\n                            {{bankAvail ? 'Update':'Submit'}}\n                        </button>\n                        <button type=\"button\" (click)=\"onReset()\"\n                            class=\"btn btn-outline-secondary mt-3 ms-2\">Cancel</button>\n\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}