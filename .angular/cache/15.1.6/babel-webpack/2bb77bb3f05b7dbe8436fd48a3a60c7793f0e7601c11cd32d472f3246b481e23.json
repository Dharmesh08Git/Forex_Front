{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/auth.service\";\nimport * as i2 from \"src/app/services/alert.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ForgotPasswordComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ForgotPasswordComponent_div_27_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(9);\n      return i0.ɵɵresetView(ctx_r4.onSendOtp(_r0.form.value.email, _r0.form.value.role));\n    });\n    i0.ɵɵtext(2, \" Send OTP \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ForgotPasswordComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 7)(2, \"div\", 8)(3, \"label\");\n    i0.ɵɵtext(4, \"OTP\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 7)(7, \"div\", 8)(8, \"label\");\n    i0.ɵɵtext(9, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ForgotPasswordComponent_button_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵtext(1, \" Submit \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ForgotPasswordComponent {\n  constructor(auth, alert) {\n    this.auth = auth;\n    this.alert = alert;\n    this.showOTP = false;\n    this.email = '';\n  }\n  onSubmit(ngForm, role) {\n    const credentials = ngForm.form.value;\n    console.log(credentials);\n    this.auth.forgotPassword(credentials, role);\n  }\n  onSendOtp(email, role) {\n    this.email = email;\n    this.auth.sendForgotOTP(email, role).subscribe(res => {\n      this.showOTP = true;\n      this.alert.apiSuccess(res);\n    }, this.alert.apiFail);\n  }\n}\nForgotPasswordComponent.ɵfac = function ForgotPasswordComponent_Factory(t) {\n  return new (t || ForgotPasswordComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.AlertService));\n};\nForgotPasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ForgotPasswordComponent,\n  selectors: [[\"app-forgot-password\"]],\n  decls: 30,\n  vars: 6,\n  consts: [[1, \"mt-4\"], [1, \"cantainer\"], [1, \"row\"], [1, \"col-md-4\", \"offset-md-4\"], [1, \"card\"], [3, \"noValidate\", \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [1, \"col-12\", \"mt-3\"], [1, \"form-group\"], [\"ngModel\", \"\", \"name\", \"role\", \"required\", \"\", 1, \"form-control\", 3, \"disabled\"], [\"value\", \"\", \"disabled\", \"\"], [\"value\", \"ADMIN\"], [\"value\", \"CUSTOMER\"], [\"type\", \"email\", \"ngModel\", \"\", \"name\", \"email\", \"required\", \"\", 1, \"form-control\", 3, \"readonly\"], [\"class\", \"col-12\", 4, \"ngIf\"], [4, \"ngIf\"], [\"type\", \"submit\", \"class\", \"btn btn-outline-primary mt-3\", 4, \"ngIf\"], [1, \"col-12\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", \"mt-3\", 3, \"click\"], [\"type\", \"password\", \"ngModel\", \"\", \"name\", \"otp\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"password\", \"ngModel\", \"\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-primary\", \"mt-3\"]],\n  template: function ForgotPasswordComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r6 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\");\n      i0.ɵɵtext(6, \"Forgot Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"hr\");\n      i0.ɵɵelementStart(8, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function ForgotPasswordComponent_Template_form_ngSubmit_8_listener() {\n        i0.ɵɵrestoreView(_r6);\n        const _r0 = i0.ɵɵreference(9);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0, \"CUSTOMER\"));\n      });\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"div\", 7)(12, \"div\", 8)(13, \"label\");\n      i0.ɵɵtext(14, \"Select User Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"select\", 9)(16, \"option\", 10);\n      i0.ɵɵtext(17, \"SELECT USER\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"option\", 11);\n      i0.ɵɵtext(19, \"ADMIN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"option\", 12);\n      i0.ɵɵtext(21, \"CUSTOMER\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(22, \"div\", 7)(23, \"div\", 8)(24, \"label\");\n      i0.ɵɵtext(25, \"User Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(26, \"input\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(27, ForgotPasswordComponent_div_27_Template, 3, 0, \"div\", 14);\n      i0.ɵɵtemplate(28, ForgotPasswordComponent_div_28_Template, 11, 0, \"div\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(29, ForgotPasswordComponent_button_29_Template, 2, 0, \"button\", 16);\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"noValidate\", false);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"disabled\", ctx.showOTP);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"readonly\", ctx.showOTP);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.showOTP);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showOTP);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showOTP);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IA6B4BA,+BAAqC;IAE7BA;MAAAA;MAAA;MAAA;MAAA,OAASA,0EAAgE;IAAA,EAAC;IAE1EA,0BACJ;IAAAA,iBAAS;;;;;IAGbA,2BAAqB;IAGFA,mBAAG;IAAAA,iBAAQ;IAClBA,4BAA0E;IAC9EA,iBAAM;IAEVA,8BAAyB;IAEVA,wBAAQ;IAAAA,iBAAQ;IACvBA,6BAA+E;IACnFA,iBAAM;;;;;IAOlBA,kCAA2E;IACvEA,wBACJ;IAAAA,iBAAS;;;AC/CjC,OAAM,MAAOC,uBAAuB;EAIlCC,YACUC,IAAiB,EACjBC,KAAmB;IADnB,SAAI,GAAJD,IAAI;IACJ,UAAK,GAALC,KAAK;IALf,YAAO,GAAG,KAAK;IACf,UAAK,GAAW,EAAE;EAKd;EAEJC,QAAQ,CAACC,MAAc,EAAEC,IAAY;IAEnC,MAAMC,WAAW,GAAGF,MAAM,CAACG,IAAI,CAACC,KAAK;IACrCC,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC;IACxB,IAAI,CAACL,IAAI,CAACU,cAAc,CAACL,WAAW,EAAED,IAAI,CAAC;EAE7C;EAEAO,SAAS,CAACC,KAAa,EAAER,IAAY;IACnC,IAAI,CAACQ,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACZ,IAAI,CAACa,aAAa,CAACD,KAAK,EAAER,IAAI,CAAC,CAACU,SAAS,CAAEC,GAAQ,IAAI;MAC1D,IAAI,CAACC,OAAO,GAAG,IAAI;MACnB,IAAI,CAACf,KAAK,CAACgB,UAAU,CAACF,GAAG,CAAC;IAC5B,CAAC,EAAE,IAAI,CAACd,KAAK,CAACiB,OAAO,CAAC;EACxB;;AAvBWpB,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA,uBAAuB;EAAAqB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MDVpC1B,8BAAkB;MAKMA,+BAAe;MAAAA,iBAAK;MACxBA,qBAAM;MAENA,kCAA4F;MAAlEA;QAAAA;QAAA;QAAA,OAAYA,iCAAoB,UAAU,CAAC;MAAA,EAAC;MAElEA,+BAAiB;MAGEA,iCAAgB;MAAAA,iBAAQ;MAC/BA,kCAA+E;MACjDA,4BAAW;MAAAA,iBAAS;MAC9CA,mCAAsB;MAAAA,sBAAK;MAAAA,iBAAS;MACpCA,mCAAyB;MAAAA,yBAAQ;MAAAA,iBAAS;MAKtDA,+BAAyB;MAEVA,2BAAU;MAAAA,iBAAQ;MACzBA,6BAC2B;MAC/BA,iBAAM;MAEVA,2EAMM;MAENA,4EAcM;MAEVA,iBAAM;MAENA,iFAES;MACbA,iBAAO;;;MAlDgEA,eAAoB;MAApBA,kCAAoB;MAM1BA,eAAoB;MAApBA,sCAAoB;MAYjEA,gBAAoB;MAApBA,sCAAoB;MAGXA,eAAc;MAAdA,mCAAc;MAQ7BA,eAAa;MAAbA,kCAAa;MAkBdA,eAAa;MAAbA,kCAAa","names":["i0","ForgotPasswordComponent","constructor","auth","alert","onSubmit","ngForm","role","credentials","form","value","console","log","forgotPassword","onSendOtp","email","sendForgotOTP","subscribe","res","showOTP","apiSuccess","apiFail","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\DTHORGAV\\Downloads\\OneDrive - Capgemini\\Desktop\\OceanCaseStudy\\forex_front\\src\\app\\pages\\forgot-password\\forgot-password.component.html","C:\\Users\\DTHORGAV\\Downloads\\OneDrive - Capgemini\\Desktop\\OceanCaseStudy\\forex_front\\src\\app\\pages\\forgot-password\\forgot-password.component.ts"],"sourcesContent":["<div class=\"mt-4\">\n    <div class=\"cantainer\">\n        <div class=\"row\">\n            <div class=\"col-md-4 offset-md-4\">\n                <div class=\"card\">\n                    <h3>Forgot Password</h3>\n                    <hr />\n\n                    <form #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit(loginForm, 'CUSTOMER')\" [noValidate]=\"false\">\n\n                        <div class=\"row\">\n                            <div class=\"col-12 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>Select User Type</label>\n                                    <select class=\"form-control\" ngModel name=\"role\" [disabled]=\"showOTP\" required>\n                                        <option value=\"\" disabled>SELECT USER</option>\n                                        <option value=\"ADMIN\">ADMIN</option>\n                                        <option value=\"CUSTOMER\">CUSTOMER</option>\n                                    </select>\n                                </div>\n                            </div>\n\n                            <div class=\"col-12 mt-3\">\n                                <div class=\"form-group\">\n                                    <label>User Email</label>\n                                    <input type=\"email\" class=\"form-control\" ngModel name=\"email\" required\n                                        [readonly]=\"showOTP\" />\n                                </div>\n                            </div>\n                            <div class=\"col-12\" *ngIf=\"!showOTP\">\n                                <button type=\"button\"\n                                    (click)=\"onSendOtp(loginForm.form.value.email, loginForm.form.value.role)\"\n                                    class=\"btn btn-outline-primary mt-3\">\n                                    Send OTP\n                                </button>\n                            </div>\n\n                            <div *ngIf=\"showOTP\">\n                                <div class=\"col-12 mt-3\">\n                                    <div class=\"form-group\">\n                                        <label>OTP</label>\n                                        <input type=\"password\" class=\"form-control\" ngModel name=\"otp\" required />\n                                    </div>\n                                </div>\n                                <div class=\"col-12 mt-3\">\n                                    <div class=\"form-group\">\n                                        <label>Password</label>\n                                        <input type=\"password\" class=\"form-control\" ngModel name=\"password\" required />\n                                    </div>\n                                </div>\n\n                            </div>\n\n                        </div>\n\n                        <button *ngIf=\"showOTP\" type=\"submit\" class=\"btn btn-outline-primary mt-3\">\n                            Submit\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>","import { Component } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.component.html',\n  styleUrls: ['./forgot-password.component.scss']\n})\nexport class ForgotPasswordComponent {\n  showOTP = false;\n  email: string = '';\n\n  constructor(\n    private auth: AuthService,\n    private alert: AlertService\n  ) { }\n\n  onSubmit(ngForm: NgForm, role: string) {\n\n    const credentials = ngForm.form.value;\n    console.log(credentials);\n    this.auth.forgotPassword(credentials, role);\n\n  }\n\n  onSendOtp(email: string, role: string) {\n    this.email = email;\n    this.auth.sendForgotOTP(email, role).subscribe((res: any) => {\n      this.showOTP = true;\n      this.alert.apiSuccess(res);\n    }, this.alert.apiFail);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}